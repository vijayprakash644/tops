<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="520" viewBox="0 0 1200 520">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,4 L0,8 Z" fill="#333333" />
    </marker>
    <style>
      .box { fill: #ffffff; stroke: #333333; stroke-width: 1.5; rx: 8; ry: 8; }
      .label { font: 14px Arial, sans-serif; fill: #111111; }
      .title { font: 16px Arial, sans-serif; font-weight: bold; fill: #111111; }
      .line { stroke: #333333; stroke-width: 1.5; }
      .note { font: 12px Arial, sans-serif; fill: #333333; }
    </style>
  </defs>

  <rect x="0" y="0" width="1200" height="520" fill="#ffffff" />

  <text class="title" x="40" y="40">Integration Architecture (Lead Upload + Dialer Callbacks)</text>

  <!-- Pre-call: Lead upload -->
  <rect class="box" x="40" y="80" width="220" height="70" />
  <text class="label" x="80" y="122">TopS.II CRM</text>

  <rect class="box" x="320" y="80" width="220" height="70" />
  <text class="label" x="360" y="122">APIcc</text>
  <text class="note" x="340" y="142">/receivedata1/index.php</text>

  <rect class="box" x="600" y="80" width="240" height="70" />
  <text class="label" x="640" y="122">Ameyo Upload API</text>

  <rect class="box" x="900" y="80" width="240" height="70" />
  <text class="label" x="940" y="122">Ameyo Dialer</text>

  <line class="line" x1="260" y1="115" x2="320" y2="115" marker-end="url(#arrow)" />
  <text class="note" x="270" y="100">POST leads</text>

  <line class="line" x1="540" y1="115" x2="600" y2="115" marker-end="url(#arrow)" />
  <text class="note" x="550" y="100">Upload leads</text>

  <line class="line" x1="840" y1="115" x2="900" y2="115" marker-end="url(#arrow)" />
  <text class="note" x="850" y="100">Leads ready</text>

  <!-- Callbacks + relay -->
  <rect class="box" x="320" y="250" width="260" height="100" />
  <text class="label" x="360" y="290">PHP Relay</text>
  <text class="note" x="335" y="315">index.php / call_start.php</text>

  <rect class="box" x="650" y="230" width="220" height="70" />
  <text class="label" x="690" y="270">State Files</text>
  <text class="note" x="675" y="290">logs/state</text>

  <rect class="box" x="650" y="320" width="220" height="70" />
  <text class="label" x="715" y="360">Logs</text>
  <text class="note" x="680" y="380">logs/*.log</text>

  <rect class="box" x="930" y="260" width="220" height="80" />
  <text class="label" x="950" y="305">TopS.II / FastHelp</text>

  <line class="line" x1="900" y1="150" x2="520" y2="250" marker-end="url(#arrow)" />
  <text class="note" x="680" y="190">GET callbacks</text>

  <line class="line" x1="520" y1="270" x2="900" y2="270" marker-end="url(#arrow)" />
  <text class="note" x="620" y="255">POST Web API</text>

  <line class="line" x1="580" y1="270" x2="650" y2="255" marker-end="url(#arrow)" />
  <text class="note" x="590" y="240">store/load</text>

  <line class="line" x1="580" y1="310" x2="650" y2="335" marker-end="url(#arrow)" />
  <text class="note" x="590" y="335">write logs</text>
</svg>
